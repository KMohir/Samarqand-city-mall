{% extends 'base.html' %}
{% load static %}

{% block title %}Новости - Samarkand City Mall{% endblock %}

{% block content %}
<section class="news-section">
    <div class="container">
        <h1 class="page-title">Новости и акции</h1>
        
        <div class="news-grid">
            {% for news in news_list %}
            <article class="news-card">
                <a href="{% url 'core:news_detail' news.slug %}" class="news-card-link">
                    {% if news.image %}
                    <div class="news-image">
                        <img src="{{ news.image.url }}" alt="{{ news.title }}">
                    </div>
                    {% endif %}
                    <div class="news-content">
                        <h2 class="news-title">{{ news.title }}</h2>
                        <p class="news-date">{{ news.published_date|date:"d F Y" }}</p>
                        <div class="news-excerpt">
                            {{ news.content|truncatewords:30 }}
                        </div>
                    </div>
                </a>
            </article>
            {% empty %}
            <!-- Статичные новости если в базе нет данных -->
            <article class="news-card">
                <div class="news-content">
                    <h2 class="news-title">Новый кинотеатр Cinematica уже открыт!</h2>
                    <p class="news-date">08 Октябрь 2025</p>
                    <div class="news-excerpt">
                        На 4 этаже Samarkand City Mall открылся современный кинотеатр Cinematica. 8 комфортабельных залов, включая VIP-зал и IMAX. Новейшее оборудование для лучшего качества звука и изображения. Удобные кресла и приятные цены. Расписание сеансов и билеты можно приобрести в кассе кинотеатра или онлайн на нашем сайте. Добро пожаловать в мир кино!
                    </div>
                </div>
            </article>
            
            <article class="news-card">
                <div class="news-content">
                    <h2 class="news-title">Неделя больших скидок - до 70%!</h2>
                    <p class="news-date">08 Октябрь 2025</p>
                    <div class="news-excerpt">
                        С 1 по 7 октября в Samarkand City Mall проходит Неделя больших скидок! Скидки до 70% на одежду, обувь и аксессуары в более чем 50 магазинах. Не упустите шанс обновить гардероб по выгодным ценам. Участвуют: ZARA, H&M, Massimo Dutti, Calvin Klein, Nike, Adidas и многие другие. Акция действует до 7 октября включительно. Количество товаров ограничено!
                    </div>
                </div>
            </article>
            
            <article class="news-card">
                <div class="news-content">
                    <h2 class="news-title">Грандиозное открытие Samarkand City Mall!</h2>
                    <p class="news-date">08 Октябрь 2025</p>
                    <div class="news-excerpt">
                        Мы рады объявить об открытии самого современного торгового центра Самарканда! Samarkand City Mall - это не просто торговый центр, это новое пространство для жизни, где вы найдете все необходимое под одной крышей. Более 200 магазинов, ресторанов и развлечений. Современная архитектура, удобная парковка и отличное расположение в центре города. Добро пожаловать в будущее шопинга!
                    </div>
                </div>
            </article>
            {% endfor %}
        </div>
        
        <!-- Пагинация -->
        {% if is_paginated %}
        <div class="pagination">
            {% if page_obj.has_previous %}
            <a href="?page={{ page_obj.previous_page_number }}" class="pagination-link">Назад</a>
            {% endif %}
            
            <span class="pagination-current">Страница {{ page_obj.number }} из {{ page_obj.paginator.num_pages }}</span>
            
            {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}" class="pagination-link">Вперед</a>
            {% endif %}
        </div>
        {% endif %}
    </div>
</section>
{% endblock %}

