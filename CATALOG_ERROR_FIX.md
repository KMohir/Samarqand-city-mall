# Исправление ошибки NoReverseMatch в каталоге

## Проблема
Ошибка `NoReverseMatch at /catalog/cafes/` возникала потому, что:
1. В шаблоне `catalog_list.html` была попытка использовать `current_category.slug` когда `current_category` было `None`
2. Категория 'cafes' не существовала в базе данных
3. Не было обработки случая, когда категория не найдена

## Внесенные исправления

### 1. Обновлен шаблон `catalog_list.html`
- Добавлена проверка `{% if current_category %}` перед использованием `current_category.slug`
- Добавлено сообщение об ошибке, когда категория не найдена
- Скрыты фильтры и пагинация для несуществующих категорий

### 2. Улучшено представление `CatalogListView`
- Добавлена обработка случая, когда категория не найдена
- Возвращается пустой queryset вместо всех арендаторов

### 3. Исправлена команда `seed_data.py`
- Изменен slug для категории кафе с `'cafes-restaurants'` на `'cafes'`
- Обновлена ссылка на категорию в данных кафе

### 4. Создана команда `create_categories.py`
- Новая команда для создания только категорий без очистки данных

## Как применить исправления

### Вариант 1: Создать категории через Django shell
```python
from core.models import Category

categories = [
    {'name': 'Магазины', 'slug': 'shops'},
    {'name': 'Кафе и Рестораны', 'slug': 'cafes'},
    {'name': 'Развлечения', 'slug': 'entertainment'},
    {'name': 'Услуги', 'slug': 'services'},
]

for cat_data in categories:
    Category.objects.get_or_create(
        slug=cat_data['slug'],
        defaults={'name': cat_data['name']}
    )
```

### Вариант 2: Запустить команду создания категорий
```bash
python manage.py create_categories
```

### Вариант 3: Запустить полное заполнение данных
```bash
python manage.py seed_data
```

## Результат
- ✅ Ошибка NoReverseMatch исправлена
- ✅ Корректная обработка несуществующих категорий
- ✅ Пользователь видит понятное сообщение об ошибке
- ✅ Создание необходимых категорий

## Тестирование
После применения исправлений проверьте:
1. `/catalog/cafes/` - должна работать без ошибок
2. `/catalog/nonexistent/` - должна показывать сообщение "Категория не найдена"
3. Все ссылки на категории в шаблонах должны работать корректно
